{"ast":null,"code":"import _slicedToArray from\"/Users/mereilim/Desktop/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import{navigate}from'@reach/router';var Update=function Update(props){var id=props.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),petType=_useState4[0],setPetType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),skillOne=_useState8[0],setSkillOne=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),skillTwo=_useState10[0],setSkillTwo=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),skillThree=_useState12[0],setSkillThree=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(id)).then(function(res){setName(res.data.name);setDescription(res.data.description);setPetType(res.data.petType);setSkillOne(res.data.skillOne);setSkillTwo(res.data.skillTwo);setSkillThree(res.data.skillThree);});// eslint-disable-next-line\n},[props]);var updatePet=function updatePet(e){e.preventDefault();var updatedPet={name:name,petType:petType,description:description,skillOne:skillOne,skillTwo:skillTwo,skillThree:skillThree};axios.put(\"http://localhost:8000/api/pets/\".concat(id),updatedPet).then(function(res){console.log(res);if(res.data.errors){setErrors(res.data.errors);}else{navigate(\"/pets/\".concat(id));}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3 \",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[errors.name?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.name.message}):'',/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[errors.petType?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.petType.message}):'',/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:petType,onChange:function onChange(e){return setPetType(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[errors.description?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errors.description.message}):\"\",/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",cols:\"30\",className:\"form-control\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Skills (optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:skillOne,onChange:function onChange(e){return setSkillOne(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:skillTwo,onChange:function onChange(e){return setSkillTwo(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:skillThree,onChange:function onChange(e){return setSkillThree(e.target.value);}})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-warning btn-block\",value:\"Update\"})]})});};export default Update;","map":{"version":3,"sources":["/Users/mereilim/Desktop/PetShelter/client/src/components/Update.js"],"names":["React","useEffect","useState","axios","navigate","Update","props","id","name","setName","petType","setPetType","description","setDescription","skillOne","setSkillOne","skillTwo","setSkillTwo","skillThree","setSkillThree","errors","setErrors","get","then","res","data","updatePet","e","preventDefault","updatedPet","put","console","log","catch","err","message","target","value","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { navigate } from '@reach/router'\n\nconst Update = (props) => {\n    const { id } = props\n    const [name, setName] = useState('')\n    const [petType, setPetType] = useState('')\n    const [description, setDescription] = useState('')\n    const [skillOne, setSkillOne] = useState('')\n    const [skillTwo, setSkillTwo] = useState('')\n    const [skillThree, setSkillThree] = useState('')\n    const [errors, setErrors] = useState({})\n\n    \n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${id}`)\n            .then(res => {\n                setName(res.data.name);\n                setDescription(res.data.description);\n                setPetType(res.data.petType);\n                setSkillOne(res.data.skillOne);\n                setSkillTwo(res.data.skillTwo);\n                setSkillThree(res.data.skillThree);\n            })\n        // eslint-disable-next-line\n    }, [props])\n\n\n    const updatePet = (e) => {\n        e.preventDefault();\n        const updatedPet = { name, petType, description, skillOne, skillTwo, skillThree }\n        axios.put(`http://localhost:8000/api/pets/${id}`, updatedPet)\n            .then(res => {\n                console.log(res)\n                if (res.data.errors) {\n                    setErrors(res.data.errors)\n                } else {\n                    navigate(`/pets/${id}`)\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    return (\n        <div className=\"col-sm-3 \">\n            <form onSubmit={updatePet}>\n                <div className=\"form-group\">\n                    {errors.name ? <p className=\"text-danger\">{errors.name.message}</p> : ''}\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={name}\n                        onChange={e => setName(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    {errors.petType ? <p className=\"text-danger\">{errors.petType.message}</p> : ''}\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={petType}\n                        onChange={e => setPetType(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    {errors.description ? <p style={{ color: 'red' }}>{errors.description.message}</p> : \"\"}\n                    <textarea\n                        rows=\"4\"\n                        cols=\"30\"\n                        className=\"form-control\"\n                        value={description}\n                        onChange={e => setDescription(e.target.value)}\n                    />\n                </div>\n                <p>Skills (optional)</p>\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={skillOne}\n                        onChange={e => setSkillOne(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={skillTwo}\n                        onChange={e => setSkillTwo(e.target.value)}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={skillThree}\n                        onChange={e => setSkillThree(e.target.value)}\n                    />\n                </div>\n                <input type=\"submit\" className=\"btn btn-warning btn-block\" value=\"Update\" />\n            </form>\n        </div>\n    )\n}\n\nexport default Update"]},"metadata":{},"sourceType":"module"}