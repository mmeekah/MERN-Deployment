{"ast":null,"code":"import _objectSpread from\"/Users/mereilim/Desktop/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mereilim/Desktop/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import{navigate}from'@reach/router';var OnePet=function OnePet(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),pet=_useState4[0],setPet=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(props.id)).then(function(res){setPet(_objectSpread({},res.data));});// eslint-disable-next-line\n},[props]);var removeFromDom=function removeFromDom(_id){setPets(pets.filter(function(pet){return pet._id!==_id;}));};var adoptPet=function adoptPet(_id){axios.delete(\"http://localhost:8000/api/pets/\".concat(_id)).then(function(res){console.log(res);removeFromDom(_id);navigate('/');}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-secondary mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[\"Details about: \",pet.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:/*#__PURE__*/_jsxs(\"em\",{children:[\"Type: \",pet.petType]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Description: \",pet.description]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"Skills:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"li\",{children:pet.skillOne}),/*#__PURE__*/_jsx(\"li\",{children:pet.skillTwo}),/*#__PURE__*/_jsx(\"li\",{children:pet.skillThree})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:function onClick(e){adoptPet(pet._id);},children:\"Adopt\"})})]})});};export default OnePet;","map":{"version":3,"sources":["/Users/mereilim/Desktop/PetShelter/client/src/components/OnePet.js"],"names":["React","useState","useEffect","axios","navigate","OnePet","props","pets","setPets","pet","setPet","get","id","then","res","data","removeFromDom","_id","filter","adoptPet","delete","console","log","catch","err","name","petType","description","skillOne","skillTwo","skillThree","e"],"mappings":"uZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,eAAzB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,eACEL,QAAQ,CAAC,EAAD,CADV,wCACfM,IADe,eACTC,OADS,8BAEAP,QAAQ,CAAC,EAAD,CAFR,yCAEfQ,GAFe,eAEVC,MAFU,eAOtBR,SAAS,CAAC,UAAM,CACZC,KAAK,CAACQ,GAAN,0CAA4CL,KAAK,CAACM,EAAlD,GACKC,IADL,CACU,SAAAC,GAAG,CAAI,CAAEJ,MAAM,kBAAMI,GAAG,CAACC,IAAV,EAAN,CAAyB,CAD5C,EAEA;AACH,CAJQ,CAIN,CAACT,KAAD,CAJM,CAAT,CAKA,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,GAAG,CAAI,CACzBT,OAAO,CAACD,IAAI,CAACW,MAAL,CAAY,SAAAT,GAAG,QAAIA,CAAAA,GAAG,CAACQ,GAAJ,GAAYA,GAAhB,EAAf,CAAD,CAAP,CACH,CAFD,CAMA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACF,GAAD,CAAS,CACtBd,KAAK,CAACiB,MAAN,0CAA+CH,GAA/C,GACKJ,IADL,CACU,SAAAC,GAAG,CAAI,CACTO,OAAO,CAACC,GAAR,CAAYR,GAAZ,EACAE,aAAa,CAACC,GAAD,CAAb,CACAb,QAAQ,CAAC,GAAD,CAAR,CACH,CALL,EAMKmB,KANL,CAMW,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ,EANd,EAOH,CARD,CAaA,mBAEI,YAAK,SAAS,CAAC,eAAf,uBAEI,aAAK,SAAS,CAAC,mCAAf,wBACI,aAAK,SAAS,CAAC,aAAf,6BAA6Cf,GAAG,CAACgB,IAAjD,GADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,UAAG,SAAS,CAAC,WAAb,uBAAyB,+BAAWhB,GAAG,CAACiB,OAAf,GAAzB,EADJ,cAEI,WAAG,SAAS,CAAC,WAAb,2BAAuCjB,GAAG,CAACkB,WAA3C,GAFJ,cAGI,UAAG,SAAS,CAAC,WAAb,qBAHJ,cAKI,YAAI,SAAS,CAAC,WAAd,wBACI,oBAAKlB,GAAG,CAACmB,QAAT,EADJ,cAEI,oBAAKnB,GAAG,CAACoB,QAAT,EAFJ,cAGI,oBAAKpB,GAAG,CAACqB,UAAT,EAHJ,GALJ,GAFJ,cAaI,YAAK,SAAS,CAAC,aAAf,uBACI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,iBAACC,CAAD,CAAO,CAAEZ,QAAQ,CAACV,GAAG,CAACQ,GAAL,CAAR,CAAmB,CAAtE,mBADJ,EAbJ,GAFJ,EAFJ,CAuBH,CAtDD,CAwDA,cAAeZ,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\n\nconst OnePet = (props) => {\n    const [pets, setPets] = useState([])\n    const [pet, setPet] = useState({})\n\n\n    \n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${props.id}`)\n            .then(res => { setPet({ ...res.data }) })\n        // eslint-disable-next-line\n    }, [props])\n    const removeFromDom = _id => {\n        setPets(pets.filter(pet => pet._id !== _id));\n    }\n\n\n\n    const adoptPet = (_id) => {\n        axios.delete(`http://localhost:8000/api/pets/${_id}`)\n            .then(res => {\n                console.log(res)\n                removeFromDom(_id)\n                navigate('/')\n            })\n            .catch(err => console.log(err))\n    }\n\n\n\n\n    return (\n\n        <div className=\"col-sm-4 mb-3\">\n\n            <div className=\"card text-white bg-secondary mb-3\">\n                <div className=\"card-header\">Details about: {pet.name}</div>\n                <div className=\"card-body\">\n                    <p className=\"card-text\"><em>Type: {pet.petType}</em></p>\n                    <p className=\"card-text\">Description: {pet.description}</p>\n                    <p className=\"card-text\">Skills:</p>\n\n                    <ul className=\"card-text\">\n                        <li>{pet.skillOne}</li>\n                        <li>{pet.skillTwo}</li>\n                        <li>{pet.skillThree}</li>\n                    </ul>\n                </div>\n                <div className=\"card-footer\">\n                    <button className=\"btn btn-info\" onClick={(e) => { adoptPet(pet._id) }}>Adopt</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default OnePet"]},"metadata":{},"sourceType":"module"}